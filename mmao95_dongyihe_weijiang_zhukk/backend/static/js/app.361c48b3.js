(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],d=0,h=[];d<r.length;d++)s=r[d],a[s]&&h.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"130c":function(t,e,n){},"16c8":function(t,e,n){},"3a4d":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("div",{staticClass:"container"},[n("MapViewer"),n("CloudsList",{attrs:{title:"Candidates by Neighbourhoods",words:t.neighbourhood,id:"neighbouthood"}}),n("CloudsList",{attrs:{title:"Candidates by K-Means Cluster",words:t.cluster,id:"cluster"}})],1),n("Footer")],1)},o=[],s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"jumbotron header"},[n("h1",{staticClass:"jumbotron-title text-center"},[t._v("Taking Gender Equity to the Streets")]),n("p",{staticClass:"subtitle text-center lead"},[t._v("Maoxuan Zhu, Dongyi He, Wei Jiang, Kaikang Zhu")])])}],l={name:"Header"},c=l,u=n("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null),h=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"cloud-list card"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-5"},[n("h3",{staticClass:"card-title text-left"},[t._v(t._s(t.title))])]),n("div",{staticClass:"col"},[n("div",{staticClass:"btn-toolbar float-right"},[n("div",{staticClass:"btn-group text-right mr-2",attrs:{"data-toggle":"dropdown"}},[n("button",{staticClass:"dropdown-toggle btn btn-secondary"},[t._v(t._s(t.keys[t.highlight]))]),n("div",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.words,function(e,i,a){return n("button",{key:i,class:"btn dropdown-item "+(a==t.highlight?"active":""),attrs:{"data-toggle":"list",href:"#"+i},on:{click:function(e){return t.switchKey(a)}}},[t._v(t._s(i))])}),0)]),n("div",{staticClass:"btn-group mr-2"},[n("button",{staticClass:"btn btn-secondary",attrs:{disabled:0==t.highlight},on:{click:t.last}},[t._v("Last")]),n("button",{staticClass:"btn btn-secondary",attrs:{disabled:t.highlight==t.keys.length-1},on:{click:t.next}},[t._v("Next")])])])])]),Object.keys(t.words).length>0?n("div",{staticClass:"word-cloud"},[n("WordCloud",{attrs:{words:t.words[t.keys[t.highlight]],color:t.getColor,"font-family":"Impact"}})],1):n("div",{staticClass:"word-cloud loading d-flex align-items-center justify-content-center"},[n("h3",{staticClass:"card-text"},[t._v("Loading...")])])])])},p=[],g=n("768b"),b=(n("ac6a"),n("a69f"),n("a4bb")),v=n.n(b),y=n("c817"),C=n.n(y),m=n("bb15"),w=n.n(m),_={name:"CloudsList",props:["title","words","id"],watch:{words:function(){this.keys=v()(this.words),this.switchKey(0)}},data:function(){return{highlight:0,max:1,keys:[],fontSizeMapper:function(t){return 5*Math.log2(t.value)}}},methods:{switchKey:function(t){this.highlight=t;var e=this.keys[t],n=1;this.words[e].forEach(function(t){var e=Object(g["a"])(t,2),i=e[1];n=i>n?i:n}),this.max=n},getColor:function(t){var e=Object(g["a"])(t,2),n=e[1];return"#"+w.a.hsl.hex([35*n+94,50+20*Math.random(),50+20*Math.random()])},next:function(){this.highlight<this.keys.length-1&&this.switchKey(this.highlight+1)},last:function(){this.highlight>0&&this.switchKey(this.highlight-1)}},components:{WordCloud:C.a}},x=_,E=(n("b470"),Object(u["a"])(x,f,p,!1,null,null,null)),j=E.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h3",{staticClass:"card-title text-left"},[t._v("Candidates in Map")]),n("div",{staticClass:"list-group",attrs:{id:"menu"}},t._l(t.layers,function(e,i){return n("button",{key:i,class:"list-group-item list-group-item-action "+(e?"active":""),on:{click:function(e){return t.click(i,e)}}},[t._v(t._s(i))])}),0),n("div",{attrs:{id:"map"}})])])},M=[],O=n("e192"),F=n.n(O),P={name:"MapViewer",data:function(){return{ziplist:["02108","02109","02110","02111","02113","02114","02115","02116","02118","02119","02120","02121","02122","02124","02125","02126","02127","02128","02129","02130","02131","02132","02134","02135","02136","02151","02152","02163","02199","02203","02210","02215","02467"],layers:{candidate:!0,clusters:!0},map:null}},methods:{getColorMap:function(){var t=[];for(var e in t.push("match"),t.push(["get","ZIP5"]),this.ziplist)t.push(this.ziplist[e]),t.push(this.getRandomColor());return t.push("#66ccff"),t},getRandomColor:function(){return"#"+w.a.hsl.hex([140+30*Math.random(),40+20*Math.random(),37+40*Math.random()])},click:function(t,e){e.preventDefault(),e.stopPropagation();var n=this.map.getLayoutProperty(t,"visibility");"visible"===n?(this.map.setLayoutProperty(t,"visibility","none"),this.layers[t]=!1):(this.map.setLayoutProperty(t,"visibility","visible"),this.layers[t]=!0)}},mounted:function(){F.a.accessToken="pk.eyJ1IjoibW1hbzk1IiwiYSI6ImNqdXB0eHoxZjNlM200M25xZHgzMG82cDgifQ.Q2_T7ErCmRmP7Lpf26T1fg";var t=new F.a.Map({container:"map",style:"mapbox://styles/mapbox/light-v10",zoom:11,center:[-71.066,42.325]}),e=this.getColorMap();t.on("load",function(){t.addSource("SS",{type:"geojson",data:"/data/street.geojson"}),t.addSource("ZIP",{type:"geojson",data:"/data/ZIP_Codes.geojson"}),t.addSource("CAN",{type:"geojson",data:"/data/candidates.geojson"}),t.addLayer({id:"zipcode",source:"ZIP",type:"fill",paint:{"fill-color":e,"fill-opacity":.8}}),t.addLayer({id:"candidate",source:"CAN",type:"symbol",layout:{"icon-image":"marker-15","icon-size":2.5,visibility:"visible"}}),t.addLayer({id:"clusters",source:"SS",type:"circle",layout:{visibility:"none"},paint:{"circle-radius":3,"circle-color":["match",["get","Cluster"],0,"#F1C40F",1,"#800080",2,"#EC7063",3,"#85C1E9",4,"#F1C40F",6,"#EC7063",7,"#85C1E9",8,"#F1C40F",9,"#EC7063",10,"#85C1E9",12,"#A3E4D7",13,"#EC7063",15,"#85C1E9",16,"#F1C40F",17,"#EC7063",19,"#85C1E9",20,"#A3E4D7",21,"#EC7063",23,"#85C1E9",24,"#F1C40F",25,"#EC7063",26,"#85C1E9",27,"#F1C40F",28,"#EC7063",30,"#A3E4D7",31,"#EC7063",33,"#F1C40F",34,"#85C1E9","#800080"]},filter:["==","$type","Point"]})}),this.map=t}},S=P,L=(n("c612"),Object(u["a"])(S,k,M,!1,null,null,null)),z=L.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer")},Z=[],$={name:"Footer"},A=$,K=(n("ee86"),Object(u["a"])(A,I,Z,!1,null,null,null)),T=K.exports,D=n("bc3a"),H=n.n(D),N={name:"app",components:{Header:h,CloudsList:j,MapViewer:z,Footer:T},created:function(){var t=this,e={headers:{"Access-Control-Allow-Origin":"*"}};H.a.get("http://localhost:5000/neighbourhood",e).then(function(e){t.neighbourhood=e.data}),H.a.get("http://localhost:5000/cluster",e).then(function(e){t.cluster=e.data})},data:function(){return{neighbourhood:{},cluster:{}}}},J=N,W=(n("7faf"),Object(u["a"])(J,a,o,!1,null,null,null)),R=W.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(R)}}).$mount("#app")},"7faf":function(t,e,n){"use strict";var i=n("8fba"),a=n.n(i);a.a},"8fba":function(t,e,n){},b470:function(t,e,n){"use strict";var i=n("3a4d"),a=n.n(i);a.a},c612:function(t,e,n){"use strict";var i=n("130c"),a=n.n(i);a.a},ee86:function(t,e,n){"use strict";var i=n("16c8"),a=n.n(i);a.a}});
//# sourceMappingURL=app.361c48b3.js.map