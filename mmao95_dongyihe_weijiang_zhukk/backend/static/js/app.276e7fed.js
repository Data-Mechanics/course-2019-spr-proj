(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)s=r[d],a[s]&&h.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={app:0},o=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"130c":function(t,e,i){},"16c8":function(t,e,i){},"3a4d":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Header"),i("div",{staticClass:"container"},[i("MapViewer"),i("CloudsList",{attrs:{title:"Candidates by Neighbourhoods",words:t.neighbourhood,id:"neighbouthood"}}),i("CloudsList",{attrs:{title:"Candidates by K-Means Cluster",words:t.cluster,id:"cluster"}})],1),i("Footer")],1)},o=[],s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"jumbotron header"},[i("h1",{staticClass:"jumbotron-title text-center"},[t._v("Taking Gender Equity to the Streets")]),i("p",{staticClass:"subtitle text-center lead"},[t._v("Maoxuan Zhu, Dongyi He, Wei Jiang, Kaikang Zhu")])])}],c={name:"Header"},l=c,u=i("2877"),d=Object(u["a"])(l,s,r,!1,null,null,null),h=d.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"cloud-list card"},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("h3",{staticClass:"card-title text-left"},[t._v(t._s(t.title))])]),i("div",{staticClass:"col"},[i("div",{staticClass:"btn-toolbar float-right"},[i("div",{staticClass:"btn-group text-right mr-2",attrs:{"data-toggle":"dropdown"}},[i("button",{staticClass:"dropdown-toggle btn btn-secondary"},[t._v(t._s(t.keys[t.highlight]))]),i("div",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.words,function(e,n,a){return i("button",{key:n,class:"btn dropdown-item "+(a==t.highlight?"active":""),attrs:{"data-toggle":"list",href:"#"+n},on:{click:function(e){return t.switchKey(a)}}},[t._v(t._s(n))])}),0)]),i("div",{staticClass:"btn-group mr-2"},[i("button",{staticClass:"btn btn-secondary",attrs:{disabled:0==t.highlight},on:{click:t.last}},[t._v("Last")]),i("button",{staticClass:"btn btn-secondary",attrs:{disabled:t.highlight==t.keys.length-1},on:{click:t.next}},[t._v("Next")])])])])]),Object.keys(t.words).length>0?i("div",{staticClass:"word-cloud"},[i("WordCloud",{attrs:{words:t.words[t.keys[t.highlight]],color:t.getColor,"font-family":"Impact"}})],1):i("div",{staticClass:"word-cloud loading d-flex align-items-center justify-content-center"},[i("h3",{staticClass:"card-text"},[t._v("Loading...")])])])])},f=[],g=i("768b"),b=(i("ac6a"),i("a69f"),i("a4bb")),y=i.n(b),v=i("c817"),m=i.n(v),C=i("bb15"),w=i.n(C),x={name:"CloudsList",props:["title","words","id"],watch:{words:function(){this.keys=y()(this.words),this.switchKey(0)}},data:function(){return{highlight:0,max:1,keys:[],fontSizeMapper:function(t){return 5*Math.log2(t.value)}}},methods:{switchKey:function(t){this.highlight=t;var e=this.keys[t],i=1;this.words[e].forEach(function(t){var e=Object(g["a"])(t,2),n=e[1];i=n>i?n:i}),this.max=i},getColor:function(t){var e=Object(g["a"])(t,2),i=e[1];return"#"+w.a.hsl.hex([35*i+94,50+20*Math.random(),50+20*Math.random()])},next:function(){this.highlight<this.keys.length-1&&this.switchKey(this.highlight+1)},last:function(){this.highlight>0&&this.switchKey(this.highlight-1)}},components:{WordCloud:m.a}},_=x,j=(i("b470"),Object(u["a"])(_,p,f,!1,null,null,null)),M=j.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"card"},[i("div",{staticClass:"card-body"},[i("h3",{staticClass:"card-title text-left"},[t._v("Candidates in Map")]),i("div",{staticClass:"list-group",attrs:{id:"menu"}},t._l(t.layers,function(e,n){return i("button",{key:n,class:"list-group-item list-group-item-action "+(e?"active":""),on:{click:function(e){return t.click(n,e)}}},[t._v(t._s(n))])}),0),i("div",{attrs:{id:"map"}})])])},S=[],O=i("e192"),P=i.n(O),L={name:"MapViewer",data:function(){return{ziplist:["02108","02109","02110","02111","02113","02114","02115","02116","02118","02119","02120","02121","02122","02124","02125","02126","02127","02128","02129","02130","02131","02132","02134","02135","02136","02151","02152","02163","02199","02203","02210","02215","02467"],zipdis:[["02108","02114"],["02109","02110","02113"],["02111"],["02115","02215"],["02116"],["02118"],["02119"],["02120"],["02121","02122","02124","02125"],["02126"],["02127"],["02128"],["02129"],["02130"],["02131"],["02132"],["02134"],["02135"],["02136"],["02151","02152"],["02163"],["02199"],["02203"],["02210"],["02467"]],layers:{"candidates(cluster)":!0,"candidates(district)":!1,clusters:!1},map:null}},methods:{getColorMap:function(){var t=[];for(var e in t.push("match"),t.push(["get","ZIP5"]),this.zipdis)for(var i in this.zipdis[e]){var n=this.getRandomColor(140,40,37);t.push(this.zipdis[e][i]),t.push(n)}return t.push("#66ccff"),t},getClusterMap:function(){var t,e=[];for(e.push("match"),e.push(["get","Cluster"]),t=0;t<34;t++)e.push(t),e.push(this.getRandomColor(30,40,37));return e.push("#66ccff"),e},getRandomColor:function(t,e,i){return"#"+w.a.hsl.hex([t+30*Math.random(),e+20*Math.random(),i+40*Math.random()])},click:function(t,e){e.preventDefault(),e.stopPropagation();var i=this.map.getLayoutProperty(t,"visibility");"visible"===i?(this.map.setLayoutProperty(t,"visibility","none"),this.layers[t]=!1):(this.map.setLayoutProperty(t,"visibility","visible"),this.layers[t]=!0)}},mounted:function(){P.a.accessToken="pk.eyJ1IjoibW1hbzk1IiwiYSI6ImNqdXB0eHoxZjNlM200M25xZHgzMG82cDgifQ.Q2_T7ErCmRmP7Lpf26T1fg";var t=new P.a.Map({container:"map",style:"mapbox://styles/mapbox/light-v10",zoom:11,center:[-71.066,42.325]}),e=this.getColorMap(),i=this.getClusterMap();t.on("load",function(){t.addSource("SS",{type:"geojson",data:"/data/street.geojson"}),t.addSource("ZIP",{type:"geojson",data:"/data/ZIP_Codes.geojson"}),t.addSource("CAN",{type:"geojson",data:"/data/candidates.geojson"}),t.addSource("CAND",{type:"geojson",data:"/data/can_district.geojson"}),t.addLayer({id:"zipcode",source:"ZIP",type:"fill",paint:{"fill-color":e,"fill-opacity":.8}}),t.addLayer({id:"candidates(cluster)",source:"CAN",type:"symbol",layout:{"icon-image":"marker-15","icon-size":2.5,"text-field":"{name}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,.6],"text-anchor":"top",visibility:"visible"}}),t.addLayer({id:"candidates(district)",source:"CAND",type:"symbol",layout:{"icon-image":"marker-15","icon-size":2.5,"text-field":"{name}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,.6],"text-anchor":"top",visibility:"none"}}),t.addLayer({id:"clusters",source:"SS",type:"circle",layout:{visibility:"none"},paint:{"circle-radius":3,"circle-color":i},filter:["==","$type","Point"]})}),this.map=t}},z=L,E=(i("c612"),Object(u["a"])(z,k,S,!1,null,null,null)),I=E.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer")},N=[],Z={name:"Footer"},$=Z,K=(i("ee86"),Object(u["a"])($,A,N,!1,null,null,null)),T=K.exports,H=i("bc3a"),D=i.n(H),J={name:"app",components:{Header:h,CloudsList:M,MapViewer:I,Footer:T},created:function(){var t=this,e={headers:{"Access-Control-Allow-Origin":"*"}};D.a.get("http://localhost:5000/neighbourhood",e).then(function(e){t.neighbourhood=e.data}),D.a.get("http://localhost:5000/cluster",e).then(function(e){t.cluster=e.data})},data:function(){return{neighbourhood:{},cluster:{}}}},R=J,W=(i("7faf"),Object(u["a"])(R,a,o,!1,null,null,null)),B=W.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(B)}}).$mount("#app")},"7faf":function(t,e,i){"use strict";var n=i("8fba"),a=i.n(n);a.a},"8fba":function(t,e,i){},b470:function(t,e,i){"use strict";var n=i("3a4d"),a=i.n(n);a.a},c612:function(t,e,i){"use strict";var n=i("130c"),a=i.n(n);a.a},ee86:function(t,e,i){"use strict";var n=i("16c8"),a=i.n(n);a.a}});
//# sourceMappingURL=app.276e7fed.js.map